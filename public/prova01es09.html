<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    <title>Esercizio 9</title>
    <link rel="stylesheet" href="/output.css" />
  </head>

  <body>
    <h1>
      9. Ascolta il testo che parla del protocollo di Kyoto poi leggi le
      affermazioni seguenti. Non tutte sono presenti nel testo. Indica se
      l'affermazione √® presente (S√å) o se NON √® presente (NO). Le affermazioni
      ripetono le stesse parole del testo.
    </h1>
    <form action="" id="esercizio09" autocomplete="off">
      <ol>
        <li>
          prende il nome da una realt√† giapponese.
          <span data-risp="">
            <label for="si">S√¨</label>
            <input type="radio" name="answer01" value="true" id="si" />
            <label for="no">No</label>
            <input type="radio" name="answer01" value="false" id="no" />
          </span>
        </li>
        <li>
          si occupa di tutela dell'ambiente.
          <span data-risp="">
            <label for="si">S√¨</label>
            <input type="radio" name="answer02" value="true" id="si" />
            <label for="no">No</label>
            <input type="radio" name="answer02" value="false" id="no" />
          </span>
        </li>
        <li>
          ridurre le emissioni di gas terra.
          <span data-risp="">
            <label for="si">S√¨</label>
            <input type="radio" name="answer03" value="true" id="si" />
            <label for="no">No</label>
            <input type="radio" name="answer03" value="false" id="no" />
          </span>
        </li>

        <li>
          non √® uguale per tutti i Paesi.
          <span data-risp="">
            <label for="si">S√¨</label>
            <input type="radio" name="answer04" value="true" id="si" />
            <label for="no">No</label>
            <input type="radio" name="answer04" value="false" id="no" />
          </span>
        </li>
        <li>
          addirittura aumentare la loro riduzione.
          <span data-risp="">
            <label for="si">S√¨</label>
            <input type="radio" name="answer05" value="true" id="si" />
            <label for="no">No</label>
            <input type="radio" name="answer05" value="false" id="no" />
          </span>
        </li>
        <li>
          proteggere boschi, foreste e terreni.
          <span data-risp="">
            <label for="si">S√¨</label>
            <input type="radio" name="answer06" value="true" id="si" />
            <label for="no">No</label>
            <input type="radio" name="answer06" value="false" id="no" />
          </span>
        </li>
        <li>
          aiutare Paesi per lo sviluppo.
          <span data-risp="">
            <label for="si">S√¨</label>
            <input type="radio" name="answer07" value="true" id="si" />
            <label for="no">No</label>
            <input type="radio" name="answer07" value="false" id="no" />
          </span>
        </li>
        <li>
          se non raggiungono gli obiettivi.
          <span data-risp="">
            <label for="si">S√¨</label>
            <input type="radio" name="answer08" value="true" id="si" />
            <label for="no">No</label>
            <input type="radio" name="answer08" value="false" id="no" />
          </span>
        </li>
        <li>
          deve ridurre le emissioni di pi√π dell'8%.
          <span data-risp="">
            <label for="si">S√¨</label>
            <input type="radio" name="answer09" value="true" id="si" />
            <label for="no">No</label>
            <input type="radio" name="answer09" value="false" id="no" />
          </span>
        </li>
        <li>
          le regole sono pi√π flessibili.
          <span data-risp="">
            <label for="si">S√¨</label>
            <input type="radio" name="answer10" value="true" id="si" />
            <label for="no">No</label>
            <input type="radio" name="answer10" value="false" id="no" />
          </span>
        </li>
      </ol>

      <button type="submit">Controlla le tue risposte</button>
    </form>

    <a href="./prova01es08.html">Indietro</a>
    <a href="./index.html">Pagina iniziale</a>
    <a href="./prova01es10.html">Avanti</a>

    <script>
      const solutions = [
        "false",
        "true",
        "false",
        "true",
        "false",
        "true",
        "false",
        "true",
        "false",
        "true",
      ];

      const esercizio09 = document.getElementById("esercizio09");

      esercizio09.addEventListener("submit", (e) => {
        e.preventDefault();

        const fields = Array.from(
          esercizio09.querySelectorAll("input[type='radio']")
        );

        // if field.checked pass value to the parent
        fields.forEach((field, idx) => {
          field.checked ? (field.parentNode.dataset.risp = field.value) : "";
        });

        const attrs = Array.from(
          esercizio09.querySelectorAll("span[data-risp]")
        );

        const answers = attrs.map((item) => item.dataset.risp);

        const checkAnswer = (answer, idx) => {
          if (answer == solutions[idx].toString()) {
            console.log("üëç", answer, solutions[idx]);
            return true;
          } else {
            console.log("üëé", answer, solutions[idx]);
            return false;
          }
        };

        attrs
          .map((item) => item.dataset.risp)
          .forEach((answer, idx) => {
            attrs[idx].parentNode.classList = "";

            checkAnswer(answer, idx)
              ? attrs[idx].parentNode.classList.add("right")
              : attrs[idx].parentNode.classList.add("error");
          });
      });
    </script>
  </body>
</html>
