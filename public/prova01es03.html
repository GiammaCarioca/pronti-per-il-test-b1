<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    <title>Esercizio 3</title>
    <link rel="stylesheet" href="./output.css" />
  </head>
  <body class="text-gray-800 bg-gray-100">
    <div class="container p-6 mx-auto lg:w-2/3 md:p-20">
      <form class="py-6" action="" id="esercizio03" autocomplete="off">
        <h1 class="text-xl font-bold md:text-3xl">
          3. Inserisci i verbi tra parentesi all'imperfetto o al passato
          prossimo.
        </h1>
        <ol class="mt-8">
          <li class="py-4">
            <p class="py-1 leading-relaxed">
              A. Quando
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(io) (essere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer01"
                  id="answer01"
              /></label>
              piccolo,
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(andare)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer02"
                  id="answer02"
              /></label>
              sempre in vacanza al mare: solo un anno io e la mia famiglia
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(andare)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer03"
                  id="answer03"
              /></label>
              in montagna.
            </p>
          </li>

          <li class="py-4">
            <p class="py-1 leading-relaxed">
              B. Mio padre
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(essere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer04"
                  id="answer04"
              /></label>
              alto, magro e
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(avere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer05"
                  id="answer05"
              /></label>
              dei bellissimi baffi.
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(avere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer06"
                  id="answer06"
              /></label>
              un bel carattere, solo una volta
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(arrabbiarsi)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer07"
                  id="answer07"
              /></label>
              molto!
            </p>
          </li>

          <li class="py-4">
            <p class="py-1 leading-relaxed">
              C. Da giovane mia sorella
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(correre)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer08"
                  id="answer08"
              /></label>
              tutti i giorni, una volta
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(cadere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer09"
                  id="answer09"
              /></label>
              e
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(prendere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer10"
                  id="answer10"
              /></label>
              una distorsione alla caviglia:
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(dovere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer11"
                  id="answer11"
              /></label>
              portare le stampelle per 15 giorni...
            </p>
          </li>

          <li class="py-4">
            <p class="py-1 leading-relaxed">
              D. Quando
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(io) (avere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer12"
                  id="answer12"
              /></label>
              18 anni,
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(ricevere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer13"
                  id="answer13"
              /></label>
              il mio primo cellulare:
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(essere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer14"
                  id="answer14"
              /></label>
              emozionatissima! Ricordo che
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(volere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer15"
                  id="answer15"
              /></label>
              iniziare a usarlo subito, ma non
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(conoscere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer16"
                  id="answer16"
              /></label>
              altre persone che ne avessero uno.
            </p>
          </li>

          <li class="py-4">
            <p class="py-1 leading-relaxed">
              E. Quanti anni
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(avere)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer17"
                  id="answer17"
              /></label>
              tu e Giulio quando
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(sposarsi)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer18"
                  id="answer18" /></label
              >?
            </p>
          </li>

          <li class="py-4">
            <p class="py-1 leading-relaxed">
              F. Nel mio Paese
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(io) (studiare)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer19"
                  id="answer19"
              /></label>
              architettura per 5 anni e nel 2019
              <label
                ><span class="text-lg font-bold tracking-wide text-blue-700"
                  >(iniziare)</span
                >
                <input
                  class="mt-1 form-input"
                  type="text"
                  name="answer20"
                  id="answer20"
              /></label>
              a lavorare in uno studio privato.
            </p>
          </li>
        </ol>

        <button
          class="px-4 py-2 my-8 font-bold text-blue-700 bg-transparent border-2 border-blue-700 border-solid rounded shadow-lg hover:text-blue-100 hover:bg-blue-700"
          type="submit"
          type="submit"
        >
          Controlla le tue risposte
        </button>
      </form>

      <nav class="flex justify-between">
        <a
          class="px-4 py-2 text-blue-700 hover:underline"
          href="./prova01es02.html"
          >Indietro</a
        >
        <a class="px-4 py-2 text-blue-700 hover:underline" href="../index.html"
          >Pagina iniziale</a
        >
        <a
          class="px-4 py-2 text-blue-700 hover:underline"
          href="./prova01es05.html"
          >Avanti</a
        >
      </nav>
    </div>
    <script>
      const solutions = [
        ["ero", "andavo", "siamo andati"],
        ["era", "aveva", "aveva", "si è arrabbiato"],
        ["correva", "è caduta", "ha preso", "ha dovuto"],
        ["avevo", "ho ricevuto", "ero", "volevo", "conoscevo"],
        ["avevate", "vi siete sposati"],
        ["ho studiato", "ho iniziato"],
      ].flat();

      const esercizio03 = document.getElementById("esercizio03");

      esercizio03.addEventListener("submit", (e) => {
        e.preventDefault();

        const fields = Array.from(
          esercizio03.querySelectorAll("input[type='text']")
        );
        const answers = fields.map((field) => field.value);

        const normalizeAnswer = (answer) => {
          return answer.trim().toLowerCase();
        };

        const checkAnswer = (answer, idx) => {
          if (answer === "" || answer === "Scrivi la tua risposta") {
            fields[idx].value = "scrivi la tua risposta";
            return;
          }

          const rawAnswer = normalizeAnswer(answer);

          if (rawAnswer === solutions[idx]) {
            fields[idx].style.border = "1px solid green";
            console.log("👍");
          } else {
            fields[idx].style.border = "1px solid red";
            console.log("👎");
          }
        };

        answers.forEach((answer, idx) => checkAnswer(answer, idx));
      });
    </script>
  </body>
</html>
