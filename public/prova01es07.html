<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    <title>Esercizio 7</title>
    <link rel="stylesheet" href="./output.css" />
  </head>

  <body class="text-gray-800 bg-gray-100">
    <div class="container p-6 mx-auto lg:w-2/3 md:p-20">
      <h1 class="text-xl font-bold md:text-3xl">
        7. Completa i messaggi con la parola opportuna.
      </h1>
      <form class="py-6" action="#" id="esercizio07" autocomplete="off">
        <ol>
          <li class="py-1 leading-relaxed">
            <p>A. â€“ Dove butto la bottiglia di plastica?</p>
            <p>
              â€“ Butta<input
                class="mt-1 form-input"
                aria-label="fill the gap"
                type="text"
                name="answer01"
                id="answer01"
              />
              nel sacco giallo.
            </p>
          </li>
          <li class="py-1 leading-relaxed">
            <p>
              B. Le mie figlie non hanno ancora imparato a fare la raccolta
              differenziata: ogni volta
              <input
                class="mt-1 form-input"
                aria-label="fill the gap"
                type="text"
                name="answer02"
                id="answer02"
              />
              devo spiegare tutto di nuovo.
            </p>
          </li>
          <li class="py-1 leading-relaxed">
            <p>
              C. Marco
              <input
                class="mt-1 form-input"
                aria-label="fill the gap"
                type="text"
                name="answer03"
                id="answer03"
              />
              ha detto di andare in discarica a portare l'olio, ma ora non
              posso!
            </p>
          </li>
          <li class="py-1 leading-relaxed">
            <p>D. â€“ I medicinali scaduti vanno portati in farmacia!</p>
            <p>
              â€“ Non preoccuparti! Per questa volta
              <input
                class="mt-1 form-input"
                aria-label="fill the gap"
                type="text"
                name="answer04"
                id="answer04"
              />
              penso io.
            </p>
          </li>
          <li class="py-1 leading-relaxed">
            <p>
              E. Quel sacco Ã¨ troppo pieno di plastica,
              <input
                class="mt-1 form-input"
                aria-label="fill the gap"
                type="text"
                name="answer05"
                id="answer05"
              />
              hai messa troppa.
            </p>
          </li>
        </ol>
        <button
          class="px-4 py-2 my-8 font-bold text-blue-700 bg-transparent border-2 border-blue-700 border-solid rounded shadow-lg hover:text-blue-100 hover:bg-blue-700"
          type="submit"
          type="submit"
        >
          Controlla le tue risposte
        </button>
      </form>

      <nav class="flex justify-between">
        <a
          class="px-4 py-2 text-blue-700 hover:underline"
          href="./prova01es06.html"
          >Indietro</a
        >
        <a class="px-4 py-2 text-blue-700 hover:underline" href="../index.html"
          >Pagina iniziale</a
        >
        <a
          class="px-4 py-2 text-blue-700 hover:underline"
          href="./prova01es08.html"
          >Avanti</a
        >
      </nav>
    </div>
    <script>
      const solutions = ["la", "gli", "mi", "ci", "ne"];

      const esercizio07 = document.getElementById("esercizio07");

      esercizio07.addEventListener("submit", (e) => {
        e.preventDefault();

        const fields = Array.from(
          esercizio07.querySelectorAll("input[type='text']")
        );
        const answers = fields.map((field) => field.value);

        const normalizeAnswer = (answer) => {
          return answer.trim().toLowerCase();
        };

        const checkAnswer = (answer, idx) => {
          if (answer === "" || answer === "Scrivi la tua risposta") {
            fields[idx].value = "Scrivi la tua risposta";
            return;
          }

          const rawAnswer = normalizeAnswer(answer);

          if (rawAnswer === solutions[idx]) {
            fields[idx].style.border = "1px solid green";
            console.log("ðŸ‘");
          } else {
            fields[idx].style.border = "1px solid red";
            console.log("ðŸ‘Ž");
          }
        };

        answers.forEach((answer, idx) => checkAnswer(answer, idx));
      });
    </script>
  </body>
</html>
