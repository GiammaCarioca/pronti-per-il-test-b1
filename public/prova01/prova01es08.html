<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    <title>Prova 1 | Esercizio 8</title>
    <link rel="stylesheet" href="./output.css" />
  </head>

  <body>
    <div class="container wrapper lg:w-2/3 md:p-20">
      <header class="my-6">
        <h1 class="hidden">Prova 1: Ecologia e ambiente</h1>
        <p class="hidden" role="doc-subtitle">Comprensione dell'ascolto</p>
        <p
          role="doc-subtitle"
          aria-roledescription="consegna dell'esercizio"
          class="instructions md:text-2xl"
        >
          8. Ascolta il testo che parla del protocollo di Kyoto poi leggi le
          affermazioni seguenti. Non tutte sono presenti nel testo. Indica se
          l'affermazione è presente (SÌ) o se NON è presente (NO).
          <span
            class="block px-4 py-3 my-6 text-lg font-bold tracking-wide text-blue-700 bg-blue-100 shadow-lg"
            >Le affermazioni ripetono le stesse parole del testo.</span
          >
        </p>
      </header>

      <figure class="my-6">
        <!-- <figcaption>Clicca per ascoltare la traccia:</figcaption> -->
        <audio controls src="../media/Audio_02.mp3">
          Your browser does not support the
          <code>audio</code> element.
        </audio>
      </figure>

      <form action="" id="esercizio09" autocomplete="off">
        <div class="space-y-4">
          <fieldset class="flex justify-between">
            <div>
              <legend class="flex-initial p-2">
                A. prende il nome da una realtà giapponese.
              </legend>
            </div>

            <div class="flex-none p-2" data-risp="">
              <label for="si">Sì</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer01"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer01"
                value="false"
                id="no"
              />
            </div>
          </fieldset>

          <fieldset class="flex justify-between">
            <div>
              <legend class="flex-initial p-2">
                B. si occupa di tutela dell'ambiente.
              </legend>
            </div>
            <div class="flex-none p-2" data-risp="">
              <label for="si">Sì</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer02"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer02"
                value="false"
                id="no"
              />
            </div>
          </fieldset>

          <fieldset class="flex justify-between">
            <div>
              <legend class="flex-initial p-2">
                C. ridurre le emissioni di gas terra.
              </legend>
            </div>
            <div class="flex-none p-2" data-risp="">
              <label for="si">Sì</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer03"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer03"
                value="false"
                id="no"
              />
            </div>
          </fieldset>

          <fieldset class="flex justify-between">
            <div>
              <legend class="flex-initial p-2">
                D. non è uguale per tutti i Paesi.
              </legend>
            </div>
            <div class="flex-none p-2" data-risp="">
              <label for="si">Sì</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer04"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer04"
                value="false"
                id="no"
              />
            </div>
          </fieldset>

          <fieldset class="flex justify-between">
            <div>
              <legend class="flex-initial p-2">
                E. addirittura aumentare la loro riduzione.
              </legend>
            </div>
            <div class="flex-none p-2" data-risp="">
              <label for="si">Sì</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer05"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer05"
                value="false"
                id="no"
              />
            </div>
          </fieldset>

          <fieldset class="flex justify-between">
            <div>
              <legend class="flex-initial p-2">
                F. proteggere boschi, foreste e terreni.
              </legend>
            </div>
            <div class="flex-none p-2" data-risp="">
              <label for="si">Sì</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer06"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer06"
                value="false"
                id="no"
              />
            </div>
          </fieldset>

          <fieldset class="flex justify-between">
            <div>
              <legend class="flex-initial p-2">
                G. aiutare Paesi per lo sviluppo.
              </legend>
            </div>
            <div class="flex-none p-2" data-risp="">
              <label for="si">Sì</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer07"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer07"
                value="false"
                id="no"
              />
            </div>
          </fieldset>

          <fieldset class="flex justify-between">
            <div>
              <legend class="flex-initial p-2">
                H. se non raggiungono gli obiettivi.
              </legend>
            </div>
            <div class="flex-none p-2" data-risp="">
              <label for="si">Sì</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer08"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer08"
                value="false"
                id="no"
              />
            </div>
          </fieldset>

          <fieldset class="flex justify-between">
            <div>
              <legend class="flex-initial p-2">
                I. deve ridurre le emissioni di più dell'8%.
              </legend>
            </div>
            <div class="flex-none p-2" data-risp="">
              <label for="si">Sì</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer09"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer09"
                value="false"
                id="no"
              />
            </div>
          </fieldset>

          <fieldset class="flex justify-between">
            <div>
              <legend class="flex-initial p-2">
                L. le regole sono più flessibili.
              </legend>
            </div>
            <div class="flex-none p-2" data-risp="">
              <label for="si">Sì</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer10"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer10"
                value="false"
                id="no"
              />
            </div>
          </fieldset>
        </div>

        <div class="flex justify-center">
          <button class="btn" type="submit">Controlla la tua risposta</button>
        </div>
      </form>

      <nav class="mt-6">
        <ol class="flex justify-between">
          <li>
            <a
              class="px-4 py-2 text-blue-700 hover:underline"
              href="./prova01es07.html"
              >Indietro</a
            >
          </li>
          <li>
            <a
              class="px-4 py-2 text-blue-700 hover:underline"
              href="../../index.html"
              >Pagina iniziale</a
            >
          </li>
          <li>
            <a
              class="px-4 py-2 text-blue-700 hover:underline"
              href="./prova01es09.html"
              >Avanti</a
            >
          </li>
        </ol>
      </nav>
    </div>

    <script>
      const solutions = [
        "false",
        "true",
        "false",
        "true",
        "false",
        "true",
        "false",
        "true",
        "false",
        "true",
      ];

      const esercizio09 = document.getElementById("esercizio09");

      esercizio09.addEventListener("submit", (e) => {
        e.preventDefault();

        const fields = Array.from(
          esercizio09.querySelectorAll("input[type='radio']")
        );

        // if field.checked pass value to the parent
        fields.forEach((field, idx) => {
          field.checked ? (field.parentNode.dataset.risp = field.value) : "";
        });

        const attrs = Array.from(
          esercizio09.querySelectorAll("div[data-risp]")
        );

        const answers = attrs.map((item) => item.dataset.risp);

        const checkAnswer = (answer, idx) => {
          if (answer == solutions[idx].toString()) {
            // console.log("👍", answer, solutions[idx]);
            return true;
          } else {
            // console.log("👎", answer, solutions[idx]);
            return false;
          }
        };

        attrs
          .map((item) => item.dataset.risp)
          .forEach((answer, idx) => {
            attrs[idx].parentNode.classList.remove("right");
            attrs[idx].parentNode.classList.remove("error");

            checkAnswer(answer, idx)
              ? attrs[idx].parentNode.classList.add("right")
              : attrs[idx].parentNode.classList.add("error");
          });
      });
    </script>
  </body>
</html>
