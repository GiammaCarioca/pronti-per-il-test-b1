<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    <title>Prova 2 | Esercizio 7</title>
    <link rel="stylesheet" href="../output.css" />
  </head>

  <body>
    <div class="container wrapper lg:w-2/3 md:p-20">
      <header class="my-6">
        <h1 class="hidden">Prova 2: Scuola</h1>
        <p class="hidden" role="doc-subtitle">Comprensione dell'ascolto</p>
        <p
          role="doc-subtitle"
          aria-roledescription="consegna dell'esercizio"
          class="instructions md:text-2xl"
        >
          8. Ascolta i testi. Poi completa le frasi: scegli una delle tre
          proposte di completamento.
        </p>
      </header>

      <form action="#" id="esercizio08" autocomplete="off">
        <figure class="my-6">
          <!-- <figcaption>Clicca per ascoltare la traccia:</figcaption> -->
          <audio controls src="../media/Audio_05.mp3">
            Your browser does not support the
            <code>audio</code> element.
          </audio>
        </figure>

        <fieldset class="mt-4">
          <legend class="my-3 text-lg font-bold">1. La signora</legend>

          <div class="space-y-2" data-risp="">
            <div class="p-1">
              A.
              <input
                class="form-checkbox"
                type="radio"
                name="answer01"
                value="a"
                id="1a"
              />
              <label for="1a">chiama il ministero.</label>
            </div>
            <div class="p-1">
              B.
              <input
                class="form-checkbox"
                type="radio"
                name="answer01"
                value="b"
                id="1b"
              />
              <label for="1b"
                >deve andare in un’altra scuola per fare l’iscrizione.</label
              >
            </div>
            <div class="p-1">
              C.
              <input
                class="form-checkbox"
                type="radio"
                name="answer01"
                value="c"
                id="1c"
              />
              <label for="1c">
                vuole iscrivere suo figlio al primo anno della scuola primaria.
              </label>
            </div>
          </div>
        </fieldset>

        <fieldset class="mt-4">
          <legend class="my-3 text-lg font-bold">2. Giacomo</legend>

          <div class="space-y-4" class="space-y-4" data-risp="">
            <div class="p-1">
              A.
              <input
                class="form-checkbox"
                type="radio"
                name="answer02"
                value="a"
                id="2a"
              />
              <label for="2a">non andrà mai al asilo il pomeriggio.</label>
            </div>
            <div class="p-1">
              B.
              <input
                class="form-checkbox"
                type="radio"
                name="answer02"
                value="b"
                id="2b"
              />
              <label for="2b">tornerà a casa con la baby-sitter.</label>
            </div>
            <div class="p-1">
              C.
              <input
                class="form-checkbox"
                type="radio"
                name="answer02"
                value="c"
                id="2c"
              />
              <label for="2c"> inizia oggi la scuola elementare. </label>
            </div>
          </div>
        </fieldset>

        <fieldset class="mt-4">
          <legend class="my-3 text-lg font-bold">3. Giulia</legend>

          <div class="space-y-4" data-risp="">
            <div class="p-1">
              A.
              <input
                class="form-checkbox"
                type="radio"
                name="answer03"
                value="a"
                id="3a"
              />
              <label for="3a"
                >non ha dormito perché suo figlio è stato male.</label
              >
            </div>
            <div class="p-1">
              B.
              <input
                class="form-checkbox"
                type="radio"
                name="answer03"
                value="b"
                id="3b"
              />
              <label for="3b">non ha dormito perché fa molto caldo.</label>
            </div>
            <div class="p-1">
              C.
              <input
                class="form-checkbox"
                type="radio"
                name="answer03"
                value="c"
                id="3c"
              />
              <label for="3c">è appena tornata dalle vacanze.</label>
            </div>
          </div>
        </fieldset>

        <fieldset class="mt-4">
          <legend class="my-3 text-lg font-bold">4. Il signore dice che</legend>

          <div class="space-y-4" data-risp="">
            <div class="p-1">
              A.
              <input
                class="form-checkbox"
                type="radio"
                name="answer04"
                value="a"
                id="4a"
              />
              <label for="4a"> non ci sono dei testimoni del furto. </label>
            </div>
            <div class="p-1">
              B.
              <input
                class="form-checkbox"
                type="radio"
                name="answer04"
                value="b"
                id="4b"
              />
              <label for="4b">non ha più i documenti.</label>
            </div>
            <div class="p-1">
              C.
              <input
                class="form-checkbox"
                type="radio"
                name="answer04"
                value="c"
                id="4c"
              />
              <label for="4c"
                >gli hanno rubato il portafoglio e il telefono.</label
              >
            </div>
          </div>
        </fieldset>

        <fieldset class="mt-4">
          <legend class="my-3 text-lg font-bold">5. Martedì 2 ottobre</legend>

          <div class="space-y-4" data-risp="">
            <div class="p-1">
              A.
              <input
                class="form-checkbox"
                type="radio"
                name="answer05"
                value="a"
                id="5a"
              />
              <label for="5a">c’è il sole in quasi tutta Italia.</label>
            </div>
            <div class="p-1">
              B.
              <input
                class="form-checkbox"
                type="radio"
                name="answer05"
                value="b"
                id="5b"
              />
              <label for="5b"
                >le temperature minime sono tra 16 e 20 gradi.</label
              >
            </div>
            <div class="p-1">
              C.
              <input
                class="form-checkbox"
                type="radio"
                name="answer05"
                value="c"
                id="5c"
              />
              <label for="5c"
                >sono previste piogge in tutto il sud Italia.
              </label>
            </div>
          </div>
        </fieldset>

        <fieldset class="mt-4">
          <legend class="my-3 text-lg font-bold">6. L’annuncio</legend>

          <div class="space-y-4" data-risp="">
            <div class="p-1">
              A.
              <input
                class="form-checkbox"
                type="radio"
                name="answer06"
                value="a"
                id="6a"
              />
              <label for="6a"> è rivolto a persone straniere. </label>
            </div>
            <div class="p-1">
              B.
              <input
                class="form-checkbox"
                type="radio"
                name="answer06"
                value="b"
                id="6b"
              />
              <label for="6b">richiede di avere l’automobile.</label>
            </div>
            <div class="p-1">
              C.
              <input
                class="form-checkbox"
                type="radio"
                name="answer06"
                value="c"
                id="6c"
              />
              <label for="6c"> è rivolto a entrambi sessi. </label>
            </div>
          </div>
        </fieldset>

        <fieldset class="mt-4">
          <legend class="my-3 text-lg font-bold">
            7. Il progetto Strade Sicure
          </legend>

          <div class="space-y-4" data-risp="">
            <div class="p-1">
              A.
              <input
                class="form-checkbox"
                type="radio"
                name="answer07"
                value="a"
                id="7a"
              />
              <label for="7a">
                è rivolto ai bambini che tornano a scuola.
              </label>
            </div>
            <div class="p-1">
              B.
              <input
                class="form-checkbox"
                type="radio"
                name="answer07"
                value="b"
                id="7b"
              />
              <label for="7b">
                vuole prevenire l’incidente stradale che riguardano i bambini.
              </label>
            </div>
            <div class="p-1">
              C.
              <input
                class="form-checkbox"
                type="radio"
                name="answer07"
                value="c"
                id="7c"
              />
              <label for="7c">è promosso dai Carabinieri.</label>
            </div>
          </div>
        </fieldset>

        <fieldset class="mt-4">
          <legend class="my-3 text-lg font-bold">
            8. Per l’anno accademico 2019-2020
          </legend>

          <div class="space-y-4" data-risp="">
            <div class="p-1">
              A.
              <input
                class="form-checkbox"
                type="radio"
                name="answer08"
                value="a"
                id="8a"
              />
              <label for="8a"
                >sono diminuite le domande per medicina in italiano.</label
              >
            </div>
            <div class="p-1">
              B.
              <input
                class="form-checkbox"
                type="radio"
                name="answer08"
                value="b"
                id="8b"
              />
              <label for="8b">
                sono in crescita le domande per medicina in inglese.
              </label>
            </div>
            <div class="p-1">
              C.
              <input
                class="form-checkbox"
                type="radio"
                name="answer08"
                value="c"
                id="8c"
              />
              <label for="8c"> nessuno vuole fare veterinaria. </label>
            </div>
          </div>
        </fieldset>

        <div class="flex justify-center">
          <button class="btn" type="submit">Controlla la tua risposta</button>
        </div>
      </form>

      <nav class="mt-6">
        <ul class="flex justify-between">
          <li>
            <a class="nav-link hover:underline" href="./es07.html">Indietro</a>
          </li>
          <li>
            <a class="nav-link hover:underline" href="../../index.html"
              >Pagina iniziale</a
            >
          </li>
          <li>
            <a class="nav-link hover:underline" href="./es09.html">Avanti</a>
          </li>
        </ul>
      </nav>
    </div>
    <script>
      const solutions = ["c", "b", "a", "b", "a", "c", "b", "b"];

      const esercizio08 = document.getElementById("esercizio08");

      esercizio08.addEventListener("submit", (e) => {
        e.preventDefault();

        const fields = Array.from(
          esercizio08.querySelectorAll("input[type='radio']")
        );

        // if field.checked pass value to the parent
        fields.forEach((field, idx) => {
          field.checked
            ? (field.parentNode.parentNode.dataset.risp = field.value)
            : "";
        });

        const attrs = Array.from(
          esercizio08.querySelectorAll("div[data-risp]")
        );

        const answers = attrs.map((item) => item.dataset.risp);

        const checkAnswer = (answer, idx) => {
          if (answer == solutions[idx].toString()) {
            console.log("👍", answer, solutions[idx]);
            return true;
          } else {
            console.log("👎", answer, solutions[idx]);
            return false;
          }
        };

        attrs
          .map((item) => item.dataset.risp)
          .forEach((answer, idx) => {
            if (!answer) return;

            checkAnswer(answer, idx)
              ? attrs[idx]
                  .querySelector(`input[value="${answer}"]`)
                  .parentNode.classList.add("right")
              : attrs[idx]
                  .querySelector(`input[value="${answer}"]`)
                  .parentNode.classList.add("error");
          });
      });
    </script>
  </body>
</html>
