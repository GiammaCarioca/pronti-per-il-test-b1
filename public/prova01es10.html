<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    <title>Esercizio 10</title>
    <link rel="stylesheet" href="./output.css" />
  </head>

  <body class="text-gray-800 bg-gray-100">
    <div class="container p-6 mx-auto lg:w-2/3 md:p-20">
      <h1 class="text-xl font-bold md:text-3xl">
        10. Ascolta il testo poi leggi le affermazioni seguenti. Non tutte sono
        presenti nel testo. Indica se l'affermazione √® presente (S√å) o se NON √®
        presente (NO). Le affermazioni riportano il contenuto del testo senza
        ripetere necessariamente le parole.
      </h1>
      <figure>
        <figcaption>Clicca per ascoltare la traccia:</figcaption>
        <audio controls src="./media/Audio_03.mp3">
          Your browser does not support the
          <code>audio</code> element.
        </audio>
      </figure>

      <form class="py-6" action="#" id="esercizio10" autocomplete="off">
        <ol class="space-y-4">
          <li class="p-2">
            A. La ragazza intervistata vuole salvare il pianeta dal cambiamento
            climatico.
            <span data-risp="">
              <label for="si">S√¨</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer01"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer01"
                value="false"
                id="no"
              />
            </span>
          </li>

          <li class="p-2">
            B. Agneta protesta contro le sparatorie nelle scuole.
            <span data-risp="">
              <label for="si">S√¨</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer02"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer02"
                value="false"
                id="no"
              />
            </span>
          </li>

          <li class="p-2">
            C. Agneta ha deciso di scioperare fuori dalla sua scuola.
            <span data-risp="">
              <label for="si">S√¨</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer03"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer03"
                value="false"
                id="no"
              />
            </span>
          </li>

          <li class="p-2">
            D. La mamma e il pap√† di Agneta l'hanno sempre sostenuta nella sua
            battaglia.
            <span data-risp="">
              <label for="si">S√¨</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer04"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer04"
                value="false"
                id="no"
              />
            </span>
          </li>

          <li class="p-2">
            E. Agneta afferma che i suoi genitori vogliono che vada a scuola.
            <span data-risp="">
              <label for="si">S√¨</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer05"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer05"
                value="false"
                id="no"
              />
            </span>
          </li>

          <li class="p-2">
            F. Agneta ha smesso di mangiare solo la carne.
            <span data-risp="">
              <label for="si">S√¨</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer06"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer06"
                value="false"
                id="no"
              />
            </span>
          </li>

          <li class="p-2">
            G. Agneta non usa pi√π l'aereo.
            <span data-risp="">
              <label for="si">S√¨</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer07"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer07"
                value="false"
                id="no"
              />
            </span>
          </li>

          <li class="p-2">
            H. Agneta dice di aver modificato le sue abitudini per applicare
            quello che pensa.
            <span data-risp="">
              <label for="si">S√¨</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer08"
                value="true"
                id="si"
              />
              <label for="no">No</label>
              <input
                class="w-6 h-6 form-checkbox"
                type="radio"
                name="answer08"
                value="false"
                id="no"
              />
            </span>
          </li>
        </ol>

        <button class="btn" type="submit">Controlla la tua risposta</button>
      </form>

      <nav class="flex justify-between">
        <a
          class="px-4 py-2 text-blue-700 hover:underline"
          href="./prova01es09.html"
          >Indietro</a
        >
        <a class="px-4 py-2 text-blue-700 hover:underline" href="../index.html"
          >Pagina iniziale</a
        >
      </nav>
    </div>
    <script>
      const solutions = [
        "true",
        "false",
        "true",
        "false",
        "true",
        "false",
        "true",
        "true",
      ];

      const esercizio10 = document.getElementById("esercizio10");

      esercizio10.addEventListener("submit", (e) => {
        e.preventDefault();

        const fields = Array.from(
          esercizio10.querySelectorAll("input[type='radio']")
        );

        // if field.checked pass value to the parent
        fields.forEach((field, idx) => {
          field.checked ? (field.parentNode.dataset.risp = field.value) : "";
        });

        const attrs = Array.from(
          esercizio10.querySelectorAll("span[data-risp]")
        );

        const answers = attrs.map((item) => item.dataset.risp);

        const checkAnswer = (answer, idx) => {
          if (answer == solutions[idx].toString()) {
            console.log("üëç", answer, solutions[idx]);
            return true;
          } else {
            console.log("üëé", answer, solutions[idx]);
            return false;
          }
        };

        attrs
          .map((item) => item.dataset.risp)
          .forEach((answer, idx) => {
            attrs[idx].parentNode.classList = "";

            checkAnswer(answer, idx)
              ? attrs[idx].parentNode.classList.add("right")
              : attrs[idx].parentNode.classList.add("error");
          });
      });
    </script>
  </body>
</html>
