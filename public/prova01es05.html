<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
    <title>Esercizio 5</title>
    <link rel="stylesheet" href="./output.css" />
  </head>

  <body class="text-gray-800 bg-gray-100">
    <div class="container p-6 mx-auto lg:w-2/3 md:p-20">
      <form class="py-6" action="" id="esercizio05" autocomplete="off">
        <h1 class="text-xl font-bold md:text-3xl">
          5. Scegli il verbo adatto e coniugalo nella forma corretta (passato
          prossimo o imperfetto):
        </h1>

        <div class="m-8 text-xl font-bold tracking-wide text-blue-700">
          esistere * potere * usare * essere * telefonare * arrivare * scrivere
          * aspettare * essere
        </div>

        <p class="py-1 leading-relaxed">
          Oggi quasi tutte le persone possiedono uno smartphone, ma un tempo non
          <label class="visuallyhidden" for="answer01"
            ><input
              class="mt-1 form-input"
              type="text"
              name="answer01"
              id="answer01"
          /></label>
          cos√¨. I primi cellulari
          <label class="visuallyhidden" for="answer02"
            ><input
              class="mt-1 form-input"
              type="text"
              name="answer02"
              id="answer02"
          /></label>
          in Italia intorno al 1983. Non erano come quelli a cui siamo abituati
          adesso:
          <label class="visuallyhidden" for="answer03"
            ><input
              class="mt-1 form-input"
              type="text"
              name="answer03"
              id="answer03"
          /></label>
          molto pi√π grandi e ingombranti.
        </p>

        <p>
          Quando non
          <label class="visuallyhidden" for="answer04"
            ><input
              class="mt-1 form-input"
              type="text"
              name="answer04"
              id="answer04"
          /></label>
          i cellulari, le persone
          <label class="visuallyhidden" for="answer05"
            ><input
              class="mt-1 form-input"
              type="text"
              name="answer05"
              id="answer05"
          /></label>
          il telefono fisso,
          <label class="visuallyhidden" for="answer06"
            ><input
              class="mt-1 form-input"
              type="text"
              name="answer06"
              id="answer06"
          /></label>
          le lettere e se erano fuori casa
          <label class="visuallyhidden" for="answer07"
            ><input
              class="mt-1 form-input"
              type="text"
              name="answer07"
              id="answer07"
          /></label>
          da una cabina pubblica.
        </p>

        <p>
          Se facevi tardi a un appuntamento, non
          <label class="visuallyhidden" for="answer08"
            ><input
              class="mt-1 form-input"
              type="text"
              name="answer08"
              id="answer08"
          /></label>
          avvisare. Mi ricordo che una volta
          <label class="visuallyhidden" for="answer09"
            ><input
              class="mt-1 form-input"
              type="text"
              name="answer09"
              id="answer09"
          /></label>
          un mio amico per due ore: aveva perso il treno.
        </p>

        <button
          class="px-4 py-2 my-8 font-bold text-blue-700 bg-transparent border-2 border-blue-700 border-solid rounded shadow-lg hover:text-blue-100 hover:bg-blue-700"
          type="submit"
          type="submit"
        >
          Controlla le tue risposte
        </button>
      </form>

      <nav class="flex justify-between">
        <a
          class="px-4 py-2 text-blue-700 hover:underline"
          href="./prova01es03.html"
          >Indietro</a
        >
        <a class="px-4 py-2 text-blue-700 hover:underline" href="../index.html"
          >Pagina iniziale</a
        >
        <a
          class="px-4 py-2 text-blue-700 hover:underline"
          href="./prova01es06.html"
          >Avanti</a
        >
      </nav>
    </div>
    <script>
      const solutions = [
        "era",
        "sono arrivati",
        "erano",
        "esistevano",
        "usavano",
        "scrivevano",
        "telefonavano",
        "potevi",
        "ho aspettato",
      ];

      const esercizio05 = document.getElementById("esercizio05");

      esercizio05.addEventListener("submit", (e) => {
        e.preventDefault();

        const fields = Array.from(
          esercizio05.querySelectorAll("input[type='text']")
        );
        const answers = fields.map((field) => field.value);

        const normalizeAnswer = (answer) => {
          return answer.trim().toLowerCase();
        };

        const checkAnswer = (answer, idx) => {
          if (answer === "" || answer === "Scrivi la tua risposta") {
            fields[idx].value = "scrivi la tua risposta";
            return;
          }

          const rawAnswer = normalizeAnswer(answer);

          if (rawAnswer === solutions[idx]) {
            fields[idx].style.border = "1px solid green";
            console.log("üëç");
          } else {
            fields[idx].style.border = "1px solid red";
            console.log("üëé");
          }
        };

        answers.forEach((answer, idx) => checkAnswer(answer, idx));
      });
    </script>
  </body>
</html>
